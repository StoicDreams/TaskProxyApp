"use strict";webui.define("app-project-dropdown",{linkCss:!1,watchVisibility:!1,isInput:!1,preload:"webui-dropdown",constructor:t=>{t._dropdown=t.template.querySelector("webui-dropdown")},attr:[],flags:[],attrChanged:(t,property,value)=>{property},connected:async function(t){t.dataset.subscribe="app-projects:setProjects";let projects=await webui.proxy.getProjects()||[];webui.setData("app-projects",projects)},disconnected:function(t){},setProjects(projects){let t=this;if(projects=projects||[],!t._dropdown.setOptions)return void setTimeout((()=>t.setProjects(projects)),10);let dp=projects.map((item=>({value:item.path,display:item.name})));t._dropdown.setOptions(dp),0===projects.length?t.classList.remove("show"):(t.classList.add("show"),setTimeout((()=>{webui.getData("app-current-project")||(console.log("set app-current-project value"),webui.setData("app-current-project",dp[0]))}),3e3))},shadowTemplate:'\n<style type="text/css">\n:host {\ndisplay:none;\n}\n:host(.show) {\ndisplay:block;\n}\n</style>\n<webui-dropdown title="Project" data-name="app-current-project"></webui-dropdown>\n'});